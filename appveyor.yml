version: 1.0.{build}
environment:
  matrix:
    - GENERATOR: "Visual Studio 16 2019"
    - GENERATOR: "MinGW makefiles"

image:
- Visual Studio 2019

init:
  - cmd: echo GENERATOR=%GENERATOR%

build_script:
  - cmd: md build
  - cmd: cd build
  - cmd: cmake .. -G %GENERATOR%
  - cmd: cmake --build .

test_script:
- cmd: cmake --build . --target check